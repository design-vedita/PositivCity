!function(){"use strict";$(function(){function e(){var e=$(".file-upload"),t=e.find("input"),s=e.find("button"),i=e.find("mark");s.focus(function(){t.focus()}),t.focus(function(){e.addClass("focus")}).blur(function(){e.removeClass("focus")}),s.add(i).click(function(){t.click()}),s.on(function(){e.addClass("focus")}).blur(function(){e.removeClass("focus")});var l=!!(window.File&&window.FileReader&&window.FileList&&window.Blob);t.change(function(){var e;e=l&&t[0].files[0]?t[0].files[0].name:t.val().replace("C:\\fakepath\\",""),e.length&&(i.is(":visible")?(i.text(e),s.text("Выбрать")):s.text(e))}).change()}function t(){var e=document.getElementsByClassName("js-map-slider")[0];if(e){var t=e.getElementsByClassName("swiper-slide"),s=e.offsetWidth,i=.33*s;e.style.height=i+"px",e.style.minHeight="400px";for(var l=0;l<t.length;l++)t[l].style.height=i+"px",t[l].style.minHeight="400px"}}function s(){var e=document.documentElement.clientWidth;if(e>=460){var t=$(".anchor").width();$(".two-square").css("height",t),$(".four-square").css("height",t),$(".six-square").css("height",t)}else $(".two-square").css("height",""),$(".four-square").css("height",""),$(".six-square").css("height","")}function i(){for(var e=document.getElementsByClassName("js-popup-link"),t=document.getElementsByClassName("js-popup"),s=document.getElementsByClassName("js-back")[0],i=document.getElementsByClassName("js-close-popup"),l=document.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||l.scrollTop,o=window.pageXOffset||n.scrollLeft||l.scrollLeft,r=0;r<t.length;r++){var c=t[r].offsetWidth,d=t[r].offsetHeight;t[r].style.left=o+(n.clientWidth-c)/2+"px",t[r].style.top=a+(n.clientHeight-d)/2+"px"}for(var u=0;u<e.length;u++)e[u].onclick=function(e){e.preventDefault();for(var i=this.getAttribute("data-link"),l=0;l<t.length;l++)t[l].getAttribute("data-link")==i&&(t[l].classList.add("view--popup"),s.classList.add("view--back"))};for(var m=0;m<i.length;m++)i[m].onclick=function(){for(var e=0;e<t.length;e++)t[e].classList.remove("view--popup"),s.classList.remove("view--back")};s.onclick=function(){for(u=null,u=0;u<t.length;u++)t[u].classList.remove("view--popup"),s.classList.remove("view--back")}}function l(){for(var e=document.getElementsByClassName("js-input"),t=0;t<e.length;t++)e[t].onfocus=function(){var e=this.getAttribute("placeholder");this.removeAttribute("placeholder"),this.setAttribute("data-placeholder",e)},e[t].onblur=function(){var e=this.getAttribute("data-placeholder");this.setAttribute("placeholder",e)}}function n(){var e=document.documentElement.clientWidth,t=$(".item");if(e>=1e3&&1400>=e){var s=$(".one-square").length;6==s&&$(".one-square:nth-of-type(6),.one-square:nth-of-type(5)").wrapAll('<div class="two-square js-wrap"></div>')}else if(e>=460&&767>=e)$("#category-list .row").hasClass("re-layout")||($("#category-list .row").addClass("re-layout"),$("#category-list .row").find(".content__list-category__element").each(function(e,t){$(t).attr("data-order",e)}),$("#category-list .row").find(".one-square").appendTo("#category-list .row"),$("#category-list .row").find(".two-square").appendTo("#category-list .row"),$("#category-list .row").find(".four-square").appendTo("#category-list .row"),$("#category-list .row").find(".six-square").appendTo("#category-list .row"));else if(e>=768&&999>=e){if(t.each(function(){$(this).parent().is(".js-wrap")&&$(this).unwrap()}),$(".row").hasClass("re-layout")){$(".row").removeClass("re-layout");for(var i=$(".row").find(".content__list-category__element").length,l=0;i>l;l++)$("#category-list").find(".content__list-category__element[data-order='"+l+"']").appendTo("#category-list .row")}}else e>=1401&&t.each(function(){$(this).parent().is(".js-wrap")&&$(this).unwrap()})}function a(){$(".js-tabs-link a").click(function(){var e=$(this).attr("data-tab"),t=$(".js-tabs-link li");t.each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active");var s=$(".js-tabs-text").find("div[data-link]");s.each(function(){$(this).attr("data-link")==e?$(this).addClass("view-block"):$(this).removeClass("view-block")})})}function o(){var e=$(".js-catalog-list").width(),t=$(".js-category-list").width(),s=$(".js-element").width(),i=$(".js-element-category").width();$(".js-catalog-list").attr("data-width",e),$(".js-catalog-list").attr("elem-width",s),$(".js-category-list").attr("data-width",t),$(".js-category-list").attr("elem-width",i)}function r(){var e=$(".js-catalog-list");if(e=e?$(".js-catalog-list"):$(".js-category-list"))if(e.toggleClass("no-resize"),e.hasClass("no-resize"))var t=$(e).attr("data-width"),s=$(e).attr("elem-width");else var t=$(e).width(),s=$(".js-element").width();var i=Math.floor(t/s),l=s*i,n=t-l,a=n/(i-1),o=document.documentElement.clientWidth;$(".js-element").each(function(e){if(e>0&&e%i!=0){var t=a/o*100;$(this).css({"margin-left":t+"%"})}else $(this).css({"margin-left":"0"})}),o>1194&&$(".js-element-list").each(function(e){if(e>0&&(e+1)%(i-1)!=0){var t=a/o*100;$(this).css({"margin-left":t+"%"})}else $(this).css({"margin-left":"0"})})}function c(){}function d(){function e(e){var t=e.getBoundingClientRect(),s=document.body,i=document.documentElement,l=window.pageYOffset||i.scrollTop||s.scrollTop,n=window.pageXOffset||i.scrollLeft||s.scrollLeft,a=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,r=t.top+l-a,c=t.left+n-o;return{top:Math.round(r),left:Math.round(c)}}for(var t=document.documentElement.clientWidth,s=Array(),i=document.getElementsByClassName("js-wrap-link"),l=0;l<i.length;l++)s[l]=e(i[l]).left+i[l].offsetWidth;var n=Math.max.apply(0,s);t>=768?f.onclick=function(){var e=document.getElementsByClassName("js-seti")[0];if(e.classList.toggle("open--menu"),-1==Math.sign(n)&&(n=283),y.style.width=n+20+"px",y.classList.toggle("hover"),y.classList.contains("hover")?(j.style.width="calc(100% - "+(n+20)+"px)",j.style.transition="",this.classList.add("view-menu","open--burger"),y.classList.remove("close")):(y.style.width="69px",j.style.width="calc(100% - 69px)",j.style.transition="width .5s ease .5s",this.classList.remove("view-menu","open--burger"),y.classList.remove("hover"),y.classList.add("close")),t>=1400&&1960>=t){var s=L.offsetHeight;this.classList.contains("view-menu")?L.style.height=s+200+"px":L.style.height=""}else if(t>=1e3&&1400>t){var s=L.offsetHeight,i=L.querySelectorAll("div:not(.js-contacts)");if(this.classList.contains("view-menu")){L.style.height=s+300+"px";for(var l=0;l<i.length;l++)i[l].style.width="33%"}else{L.style.height="";for(var l=0;l<i.length;l++)i[l].style.width=""}}else if(t>=768&&1e3>t){var s=L.offsetHeight,i=L.querySelectorAll("div:not(.js-contacts)");if(this.classList.contains("view-menu")){L.style.height=s+500+"px";for(var l=0;l<i.length;l++)i[l].style.width="50%"}else{L.style.height="";for(var l=0;l<i.length;l++)i[l].style.width=""}}r()}:767>t&&(j.style.width="",y.style.width="",f.onclick=function(){y.classList.toggle("translate"),b.classList.toggle("open--submenu"),this.classList.toggle("open--burger")})}function u(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementsByTagName("header")[0],s=t.offsetHeight,i=document.documentElement.clientWidth;767>=i&&(e>=s?(t.classList.add("scroll--fixed"),i>=460&&767>=i?t.style.width="calc(100% - 40px)":i>=320&&459>=i&&(t.style.width="calc(100% - 20px)")):t.classList.remove("scroll--fixed"))}function m(){function e(e){var t=e.getBoundingClientRect(),s=document.body,i=document.documentElement,l=window.pageYOffset||i.scrollTop||s.scrollTop,n=window.pageXOffset||i.scrollLeft||s.scrollLeft,a=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,r=t.top+l-a,c=t.left+n-o;return{top:Math.round(r),left:Math.round(c)}}function t(){var t=document.getElementsByTagName("footer")[0],l=document.getElementsByClassName("js-catalog-text")[0];l&&s>=e(l).top-400&&i&&i.classList.remove("scroll--banner"),t&&(s>=e(t).top-400&&i&&i.classList.remove("scroll--banner"),s>=e(t).top-715&&n&&n.classList.remove("scroll--map"))}var s=window.pageYOffset||document.documentElement.scrollTop,i=document.getElementsByClassName("js-banner")[0],l=document.getElementsByClassName("js-wrap-banOrMap")[0],n=document.getElementsByClassName("js-yMap")[0],a=document.documentElement.clientWidth;if(!h&&a>768){if(l)if(s>=e(l).top){if(i){var o=i.classList.contains("js-article");i.classList.add("scroll--banner"),o&&1308>a&&i.classList.remove("scroll--banner")}n&&a>=1045&&n.classList.add("scroll--map")}else i&&i.classList.remove("scroll--banner"),n&&n.classList.remove("scroll--map");t()}}var h=navigator.userAgent.match(/iPhone|iPad|iPod/i),f=document.getElementsByClassName("js-burger")[0],g=document.getElementsByTagName("header")[0],p=document.getElementsByClassName("js-burger460")[0],v=document.getElementsByClassName("js-search768")[0],w=document.getElementsByClassName("js-search-input")[0],y=document.getElementsByClassName("js-left-menu-hover")[0],b=document.getElementsByClassName("js-left-submenu")[0],L=document.getElementsByClassName("js-footer-links")[0],C=document.getElementsByClassName("js-banner")[0],j=(document.getElementsByClassName("js-yMap")[0],document.getElementsByClassName("js-right-block")[0]),E=document.getElementsByClassName("js-item");if(E)for(var B=0;B<E.length;B++)for(var k=E[B].getElementsByClassName("element-title"),x=E[B].getElementsByClassName("preview"),N=0;N<k.length;N++)if("&nbsp;"==k[N].innerHTML){k[N].style.padding=0,k[N].style.height=0,E[B].querySelector("a").removeAttribute("href");for(var T=0;T<x.length;T++)x[T].style.display="none"}e(),t(),s(),i(),l(),n(),a(),o(),r();var q=document.getElementsByClassName("js-custom");q&&$(q).styler({onSelectClosed:c});new Swiper(".swiper-container",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,slidesPerView:5,spaceBetweenSlides:60,breakpoints:{1800:{slidesPerView:4},1399:{slidesPerView:2.8},999:{slidesPerView:2,spaceBetweenSlides:16},767:{slidesPerView:2},650:{slidesPerView:1.5},510:{slidesPerView:1.2},459:{slidesPerView:1},360:{slidesPerView:.8}}}),new Swiper(".js-top-slider",{pagination:".swiper-pagination",paginationClickable:!0}),new Swiper(".js-slider-theme",{pagination:".swiper-pagination-catalog",paginationClickable:!0,height:400});v.onclick=function(){var e=document.documentElement.clientWidth;this.classList.toggle("open"),w.classList.toggle("visible-search"),this.classList.contains("open")?this.querySelector("use").setAttribute("xlink:href","#close"):this.querySelector("use").setAttribute("xlink:href","#search"),e>=320&&459>=e&&(this.classList.contains("open")?p.classList.add("no--visible"):p.classList.remove("no--visible"))},$(".js-left-submenu li").mouseenter(function(){var e=$(this).find("div");e.addClass("color--orange"),$(this).addClass("color--blue")}),$(".js-left-submenu li").mouseleave(function(){var e=$(this).find("div");$(this).hasClass("active-menu")||(e.removeClass("color--orange"),$(this).removeClass("color--blue"))}),d(),p.onclick=function(){y.classList.toggle("translate"),f.classList.toggle("view-menu"),f.classList.toggle("open--burger"),f.classList.toggle("open--translate"),b.classList.toggle("open--submenu")},window.onresize=function(){d(),u(),o(),r(),n(),i(),s(),t();var e=document.documentElement.clientWidth;e>=767&&(f.classList.remove("view-menu"),f.classList.remove("view-menu"),f.classList.remove("open--translate"),y.classList.remove("translate"),g.classList.remove("scroll--fixed"),g.style.width="",C&&C.classList.remove("scroll--banner"),h||(y.style.width="",y.classList.remove("hover"),f.classList.remove("open--burger")))},u(),m(),$(".js-date-input").datepicker({dateFormat:"dd.mm.yy"}),window.onscroll=function(){u(),m(),i()},$("select.select-sort").change(function(e){-1==location.href.indexOf("?")?location.href=location.href+"?sort="+$(this).val():-1==location.href.indexOf("sort")?location.href=location.href+"&sort="+$(this).val():location.href=location.origin+location.pathname+"?sort="+$(this).val()})})}();