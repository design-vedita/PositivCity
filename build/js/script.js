!function(){"use strict";$(function(){function e(){var e=$(".file-upload"),t=e.find("input"),s=e.find("button"),i=e.find("mark");s.focus(function(){t.focus()}),t.focus(function(){e.addClass("focus")}).blur(function(){e.removeClass("focus")}),s.add(i).click(function(){t.click()}),s.on(function(){e.addClass("focus")}).blur(function(){e.removeClass("focus")});var l=!!(window.File&&window.FileReader&&window.FileList&&window.Blob);t.change(function(){var e;e=l&&t[0].files[0]?t[0].files[0].name:t.val().replace("C:\\fakepath\\",""),e.length&&(i.is(":visible")?(i.text(e),s.text("Выбрать")):s.text(e))}).change()}function t(){var e=document.getElementsByClassName("js-map-slider")[0];if(e){var t=e.getElementsByClassName("swiper-slide"),s=e.offsetWidth,i=.33*s;e.style.height=i+"px",e.style.minHeight="400px";for(var l=0;l<t.length;l++)t[l].style.height=i+"px",t[l].style.minHeight="400px"}}function s(){var e=document.documentElement.clientWidth;if(e>=460){var t=$(".anchor").width();$(".two-square").css("height",t),$(".four-square").css("height",t),$(".six-square").css("height",t)}else $(".two-square").css("height",""),$(".four-square").css("height",""),$(".six-square").css("height","")}function i(){var e=document.getElementsByClassName("js-city-link")[0],t=document.getElementsByClassName("js-order-link")[0],s=document.getElementsByClassName("js-popup"),i=document.getElementsByClassName("js-back")[0],l=document.getElementsByClassName("js-order")[0],n=document.getElementsByClassName("js-city")[0],a=document.getElementsByClassName("js-close-popup"),o=document.body,c=document.documentElement,r=window.pageYOffset||c.scrollTop||o.scrollTop,d=window.pageXOffset||c.scrollLeft||o.scrollLeft;t&&(t.onclick=function(){l.classList.add("view--popup"),i.classList.add("view--back")}),e.onclick=function(){n.classList.add("view--popup"),i.classList.add("view--back")},i.onclick=function(){n.classList.remove("view--popup"),i.classList.remove("view--back")};for(var m=0;m<a.length;m++)a[m].onclick=function(){n.classList.remove("view--popup"),l&&l.classList.remove("view--popup"),i.classList.remove("view--back")};for(var m=0;m<s.length;m++){var u=s[m].offsetWidth,h=s[m].offsetHeight;s[m].style.left=d+(c.clientWidth-u)/2+"px",s[m].style.top=r+(c.clientHeight-h)/2+"px"}}function l(){for(var e=document.getElementsByClassName("js-input"),t=0;t<e.length;t++)e[t].onfocus=function(){var e=this.getAttribute("placeholder");this.removeAttribute("placeholder"),this.setAttribute("data-placeholder",e)},e[t].onblur=function(){var e=this.getAttribute("data-placeholder");this.setAttribute("placeholder",e)}}function n(){var e=document.documentElement.clientWidth,t=$(".item");if(e>=1e3&&1400>=e)$(".one-square:nth-of-type(6),.one-square:nth-of-type(5)").wrapAll('<div class="two-square js-wrap"></div>');else if(e>=460&&767>=e)$("#category-list .row").hasClass("re-layout")||($("#category-list .row").addClass("re-layout"),$("#category-list .row").find(".content__list-category__element").each(function(e,t){$(t).attr("data-order",e)}),$("#category-list .row").find(".one-square").appendTo("#category-list .row"),$("#category-list .row").find(".two-square").appendTo("#category-list .row"),$("#category-list .row").find(".four-square").appendTo("#category-list .row"),$("#category-list .row").find(".six-square").appendTo("#category-list .row"));else if(e>=768&&999>=e){if(t.each(function(){$(this).parent().is(".js-wrap")&&$(this).unwrap()}),$(".row").hasClass("re-layout")){$(".row").removeClass("re-layout");for(var s=$(".row").find(".content__list-category__element").length,i=0;s>i;i++)$("#category-list").find(".content__list-category__element[data-order='"+i+"']").appendTo("#category-list .row")}}else e>=1401&&t.each(function(){$(this).parent().is(".js-wrap")&&$(this).unwrap()})}function a(){$(".js-tabs-link a").click(function(){var e=$(this).attr("data-tab"),t=$(".js-tabs-link li");t.each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active");var s=$(".js-tabs-text").find("div[data-link]");s.each(function(){$(this).attr("data-link")==e?$(this).addClass("view-block"):$(this).removeClass("view-block")})})}function o(){var e=$(".js-catalog-list").width(),t=$(".js-category-list").width(),s=$(".js-element").width(),i=$(".js-element-category").width();$(".js-catalog-list").attr("data-width",e),$(".js-catalog-list").attr("elem-width",s),$(".js-category-list").attr("data-width",t),$(".js-category-list").attr("elem-width",i)}function c(){var e=$(".js-catalog-list");if(e=e?$(".js-catalog-list"):$(".js-category-list"))if(e.toggleClass("no-resize"),e.hasClass("no-resize"))var t=$(e).attr("data-width"),s=$(e).attr("elem-width");else var t=$(e).width(),s=$(".js-element").width();var i=Math.floor(t/s),l=s*i,n=t-l,a=n/(i-1),o=document.documentElement.clientWidth;$(".js-element").each(function(e){if(e>0&&e%i!=0){var t=a/o*100;$(this).css({"margin-left":t+"%"})}else $(this).css({"margin-left":"0"})}),o>1194&&$(".js-element-list").each(function(e){if(e>0&&(e+1)%(i-1)!=0){var t=a/o*100;$(this).css({"margin-left":t+"%"})}else $(this).css({"margin-left":"0"})})}function r(){function e(e){var t=e.getBoundingClientRect(),s=document.body,i=document.documentElement,l=window.pageYOffset||i.scrollTop||s.scrollTop,n=window.pageXOffset||i.scrollLeft||s.scrollLeft,a=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,c=t.top+l-a,r=t.left+n-o;return{top:Math.round(c),left:Math.round(r)}}for(var t=document.documentElement.clientWidth,s=Array(),i=document.getElementsByClassName("js-wrap-link"),l=0;l<i.length;l++)s[l]=e(i[l]).left+i[l].offsetWidth;var n=Math.max.apply(0,s);t>=768?h.onclick=function(){var e=document.getElementsByClassName("js-seti")[0];if(e.classList.toggle("open--menu"),-1==Math.sign(n)&&(n=283),w.style.width=n+20+"px",w.classList.toggle("hover"),w.classList.contains("hover")?(j.style.width="calc(100% - "+(n+20)+"px)",j.style.transition="",this.classList.add("view-menu","open--burger"),w.classList.remove("close")):(w.style.width="69px",j.style.width="calc(100% - 69px)",j.style.transition="width .5s ease .5s",this.classList.remove("view-menu","open--burger"),w.classList.remove("hover"),w.classList.add("close")),t>=1400&&1960>=t){var s=L.offsetHeight;this.classList.contains("view-menu")?L.style.height=s+200+"px":L.style.height=""}else if(t>=1e3&&1400>t){var s=L.offsetHeight,i=L.querySelectorAll("div:not(.js-contacts)");if(this.classList.contains("view-menu")){L.style.height=s+300+"px";for(var l=0;l<i.length;l++)i[l].style.width="33%"}else{L.style.height="";for(var l=0;l<i.length;l++)i[l].style.width=""}}else if(t>=768&&1e3>t){var s=L.offsetHeight,i=L.querySelectorAll("div:not(.js-contacts)");if(this.classList.contains("view-menu")){L.style.height=s+500+"px";for(var l=0;l<i.length;l++)i[l].style.width="50%"}else{L.style.height="";for(var l=0;l<i.length;l++)i[l].style.width=""}}c()}:767>t&&(j.style.width="",w.style.width="",h.onclick=function(){w.classList.toggle("translate"),y.classList.toggle("open--submenu"),this.classList.toggle("open--burger")})}function d(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementsByTagName("header")[0],s=t.offsetHeight,i=document.documentElement.clientWidth;767>=i&&(e>=s?(t.classList.add("scroll--fixed"),i>=460&&767>=i?t.style.width="calc(100% - 40px)":i>=320&&459>=i&&(t.style.width="calc(100% - 20px)")):t.classList.remove("scroll--fixed"))}function m(){function e(e){var t=e.getBoundingClientRect(),s=document.body,i=document.documentElement,l=window.pageYOffset||i.scrollTop||s.scrollTop,n=window.pageXOffset||i.scrollLeft||s.scrollLeft,a=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,c=t.top+l-a,r=t.left+n-o;return{top:Math.round(c),left:Math.round(r)}}function t(){var t=document.getElementsByTagName("footer")[0],l=document.getElementsByClassName("js-catalog-text")[0];l&&s>=e(l).top-400&&i&&i.classList.remove("scroll--banner"),t&&s>=e(t).top-400&&(i&&i.classList.remove("scroll--banner"),n&&n.classList.remove("scroll--map"))}var s=window.pageYOffset||document.documentElement.scrollTop,i=document.getElementsByClassName("js-banner")[0],l=document.getElementsByClassName("js-wrap-banOrMap")[0],n=document.getElementsByClassName("js-yMap")[0],a=document.documentElement.clientWidth;if(!u&&a>768){if(l)if(s>=e(l).top){if(i){var o=i.classList.contains("js-article");i.classList.add("scroll--banner"),o&&1308>a&&i.classList.remove("scroll--banner")}n&&a>=1045&&n.classList.add("scroll--map")}else i&&i.classList.remove("scroll--banner"),n&&n.classList.remove("scroll--map");t()}}var u=navigator.userAgent.match(/iPhone|iPad|iPod/i),h=document.getElementsByClassName("js-burger")[0],f=document.getElementsByTagName("header")[0],g=document.getElementsByClassName("js-burger460")[0],p=document.getElementsByClassName("js-search768")[0],v=document.getElementsByClassName("js-search-input")[0],w=document.getElementsByClassName("js-left-menu-hover")[0],y=document.getElementsByClassName("js-left-submenu")[0],L=document.getElementsByClassName("js-footer-links")[0],b=document.getElementsByClassName("js-banner")[0],j=(document.getElementsByClassName("js-yMap")[0],document.getElementsByClassName("js-right-block")[0]),C=document.getElementsByClassName("js-item");if(C)for(var E=0;E<C.length;E++)for(var B=C[E].getElementsByClassName("element-title"),k=C[E].getElementsByClassName("preview"),N=0;N<B.length;N++)if("&nbsp;"==B[N].innerHTML){B[N].style.padding=0,B[N].style.height=0,C[E].querySelector("a").removeAttribute("href");for(var x=0;x<k.length;x++)k[x].style.display="none"}e(),t(),s(),i(),l(),n(),a(),o(),c();var T=document.getElementsByClassName("js-custom");T&&$(T).styler();new Swiper(".swiper-container",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,slidesPerView:5,spaceBetweenSlides:60,breakpoints:{1800:{slidesPerView:4},1399:{slidesPerView:2.8},999:{slidesPerView:2,spaceBetweenSlides:16},767:{slidesPerView:2},650:{slidesPerView:1.5},510:{slidesPerView:1.2},459:{slidesPerView:1},360:{slidesPerView:.8}}}),new Swiper(".js-top-slider",{pagination:".swiper-pagination",paginationClickable:!0}),new Swiper(".js-slider-theme",{pagination:".swiper-pagination-catalog",paginationClickable:!0,height:400});p.onclick=function(){var e=document.documentElement.clientWidth;this.classList.toggle("open"),v.classList.toggle("visible-search"),this.classList.contains("open")?this.querySelector("use").setAttribute("xlink:href","#close"):this.querySelector("use").setAttribute("xlink:href","#search"),e>=320&&459>=e&&(this.classList.contains("open")?g.classList.add("no--visible"):g.classList.remove("no--visible"))},$(".js-left-submenu li").mouseenter(function(){var e=$(this).find("div");e.addClass("color--orange"),$(this).addClass("color--blue")}),$(".js-left-submenu li").mouseleave(function(){var e=$(this).find("div");$(this).hasClass("active-menu")||(e.removeClass("color--orange"),$(this).removeClass("color--blue"))}),r(),g.onclick=function(){w.classList.toggle("translate"),h.classList.toggle("view-menu"),h.classList.toggle("open--burger"),h.classList.toggle("open--translate"),y.classList.toggle("open--submenu")},window.onresize=function(){r(),d(),o(),c(),n(),i(),s(),t();var e=document.documentElement.clientWidth;e>=767&&(h.classList.remove("view-menu"),h.classList.remove("view-menu"),h.classList.remove("open--translate"),w.classList.remove("translate"),f.classList.remove("scroll--fixed"),f.style.width="",b&&b.classList.remove("scroll--banner"),u||(w.style.width="",w.classList.remove("hover"),h.classList.remove("open--burger")))},d(),m(),$(".js-date-input").datepicker({dateFormat:"dd.mm.yy"}),window.onscroll=function(){d(),m(),i()}})}();