{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["\n(function () {\n    \"use strict\";\n\n    $(function(){\n\n        var b = document.get\n\n        var isIos = navigator.userAgent.match(/iPhone|iPad|iPod/i);\n\n        var burger = document.getElementsByClassName('js-burger')[0],\n            header = document.getElementsByTagName('header')[0],\n            burgerOrange = document.getElementsByClassName('js-burger460')[0],\n            searchButton = document.getElementsByClassName('js-search768')[0],\n            searchInput = document.getElementsByClassName('js-search-input')[0],\n            leftMenu = document.getElementsByClassName('js-left-menu-hover')[0],\n            leftSubmenu = document.getElementsByClassName('js-left-submenu')[0],\n            footerLinks = document.getElementsByClassName('js-footer-links')[0],\n            banner = document.getElementsByClassName('js-banner')[0],\n            map = document.getElementsByClassName('js-yMap')[0],\n            rightBlock = document.getElementsByClassName('js-right-block')[0];\n\n        /**\n         * костыль\n         * если нужны пустые блоки у них ставится имя &nbsp и на их месте будет\n         * пустота размером с квадрат\n         */\n\n        var emptyElem = document.getElementsByClassName('js-item');\n\n        if(!!emptyElem) {\n\n            for (var i = 0; i < emptyElem.length; i++) {\n\n                var title = emptyElem[i].getElementsByClassName('element-title'),\n                    preview = emptyElem[i].getElementsByClassName('preview');\n\n                for(var j = 0; j < title.length; j++) {\n\n                    if(title[j].innerHTML == '&nbsp;') {\n                        title[j].style.padding = 0;\n                        title[j].style.height = 0;\n                        emptyElem[i].querySelector('a').removeAttribute('href');\n\n                        for(var k = 0; k < preview.length; k++) {\n                            preview[k].style.display = 'none';\n                        }\n                    }\n                }\n\n            }\n        }\n\n        /**\n         * Стилизованный инпут в галерее, его обработка\n         */\n\n        function customInputFile() {\n\n            var $wrapper = $( \".file-upload\" ),\n                $inp = $wrapper.find( \"input\" ),\n                $btn = $wrapper.find( \"button\" ),\n                $lbl = $wrapper.find( \"mark\" );\n            $btn.focus(function(){\n                $inp.focus()\n            });\n\n\n            $inp.focus(function(){\n                $wrapper.addClass( \"focus\" );\n            }).blur(function(){\n                $wrapper.removeClass( \"focus\" );\n            });\n\n            $btn.add( $lbl ).click(function(){\n                $inp.click();\n            });\n\n            $btn.on(function(){\n                $wrapper.addClass( \"focus\" );\n            }).blur(function(){\n                $wrapper.removeClass( \"focus\" );\n            });\n\n            var fileApi = ( window.File && window.FileReader && window.FileList && window.Blob ) ? true : false;\n\n            $inp.change(function(){\n                var $fileName;\n                if( fileApi && $inp[ 0 ].files[ 0 ] )\n                    $fileName = $inp[ 0 ].files[ 0 ].name;\n                else\n                    $fileName = $inp.val().replace( \"C:\\\\fakepath\\\\\", '' );\n\n                if( ! $fileName.length )\n                    return;\n\n                if( $lbl.is( \":visible\" ) ){\n                    $lbl.text( $fileName );\n                    $btn.text( \"Выбрать\" );\n                }else\n                    $btn.text( $fileName );\n            }).change();\n\n        }\n\n        customInputFile();\n\n        /**\n         * Слайдер в товарной карте\n         */\n\n        function mapSlider() {\n            var slider = document.getElementsByClassName('js-map-slider')[0];\n\n            if(!!slider) {\n                var slide = slider.getElementsByClassName('swiper-slide'),\n                    sliderWidth = slider.offsetWidth,\n                    sliderHeight = sliderWidth * .33;\n\n                slider.style.height = sliderHeight + 'px';\n                slider.style.minHeight = '400px';\n\n                for(var i = 0; i < slide.length; i++) {\n                    slide[i].style.height = sliderHeight + 'px';\n                    slide[i].style.minHeight = '400px';\n                }\n            }\n        }\n\n        mapSlider();\n\n\n        function heightBlocks() {\n            var clientWidth = document.documentElement.clientWidth;\n\n            if(clientWidth >= 460) {\n                var max_height = $(\".anchor\").width();\n                $(\".two-square\").css(\"height\", max_height);\n                $(\".four-square\").css(\"height\", max_height);\n                $(\".six-square\").css(\"height\", max_height);\n            } else {\n                $(\".two-square\").css(\"height\", '');\n                $(\".four-square\").css(\"height\", '');\n                $(\".six-square\").css(\"height\", '');\n            }\n        }\n\n        heightBlocks();\n\n\n        /**\n         * Всплывающее окно по центру\n         */\n\n        function popupCenter() {\n            var links = document.getElementsByClassName('js-popup-link'),\n                popup = document.getElementsByClassName('js-popup'),\n                back = document.getElementsByClassName('js-back')[0],\n                closePopup = document.getElementsByClassName('js-close-popup'),\n                body = document.body,\n                docElem = document.documentElement,\n                scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n                scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\n            for (var m = 0; m < popup.length; m++) {\n                var width = popup[m].offsetWidth,\n                    height = popup[m].offsetHeight;\n\n                popup[m].style.left = scrollLeft + (docElem.clientWidth - width) / 2 + 'px';\n                popup[m].style.top = scrollTop + (docElem.clientHeight - height) / 2 + 'px';\n            }\n\n\n            for(var i = 0; i < links.length; i++) {\n\n                links[i].onclick = function(event) {\n                    event.preventDefault();\n                    var typePopup = this.getAttribute('data-link');\n\n                    for (var j = 0; j < popup.length; j++) {\n\n\n\n                        if(popup[j].getAttribute('data-link') == typePopup) {\n\n                            popup[j].classList.add('view--popup');\n                            back.classList.add('view--back');\n                        }\n\n\n                    }\n                }\n\n            }\n\n            for (var k = 0; k < closePopup.length; k++) {\n\n                closePopup[k].onclick = function() {\n\n                    for (var n = 0; n < popup.length; n++) {\n                        popup[n].classList.remove('view--popup');\n                        back.classList.remove('view--back');\n                    }\n\n                }\n\n            }\n\n\n            back.onclick = function() {\n\n                i = null;\n                for (i = 0; i < popup.length; i++) {\n                    popup[i].classList.remove('view--popup');\n                    back.classList.remove('view--back');\n                }\n            }\n\n\n\n        }\n        popupCenter();\n\n        /**\n         * При фокусе на инпуте убираем плейсхолдер,\n         * при уходе возвращаем\n         */\n\n        function attrInput() {\n            var input  = document.getElementsByClassName('js-input');\n\n            for (var i = 0; i < input.length; i++) {\n                input[i].onfocus = function() {\n                    var attr = this.getAttribute('placeholder');\n                    this.removeAttribute('placeholder');\n                    this.setAttribute('data-placeholder', attr);\n                }\n\n                input[i].onblur = function() {\n                    var text = this.getAttribute('data-placeholder');\n                    this.setAttribute('placeholder', text);\n                }\n            }\n        }\n\n        attrInput();\n\n        /**\n         * Блоки на главной странице\n         */\n\n\n        function adaptive() {\n            var clientWidth = document.documentElement.clientWidth;\n\n            var $item = $('.item');\n\n            if (clientWidth >= 1000 && clientWidth <= 1400) {\n\n                var count = $('.one-square').length;\n\n                if (count == 6) {\n                    $('.one-square:nth-of-type(6),.one-square:nth-of-type(5)').wrapAll('<div class=\"two-square js-wrap\"></div>');\n                }\n\n\n            } else if( clientWidth >= 460 && clientWidth <= 767 ) {\n\n                if ( !$(\"#category-list .row\").hasClass(\"re-layout\"))\n                {\n                    $(\"#category-list .row\").addClass(\"re-layout\");\n                    $(\"#category-list .row\").find(\".content__list-category__element\").each(function(index, element){ $(element).attr('data-order',index) });\n                    $(\"#category-list .row\").find(\".one-square\").appendTo(\"#category-list .row\");\n                    $(\"#category-list .row\").find(\".two-square\").appendTo(\"#category-list .row\");\n                    $(\"#category-list .row\").find(\".four-square\").appendTo(\"#category-list .row\");\n                    $(\"#category-list .row\").find(\".six-square\").appendTo(\"#category-list .row\");\n                }\n\n            } else if( clientWidth >= 768 && clientWidth <= 999) {\n                $item.each(function() {\n                    if($(this).parent().is('.js-wrap')) {\n                        $(this).unwrap();\n                    }\n                });\n                if ($(\".row\").hasClass(\"re-layout\"))\n                {\n                    $(\".row\").removeClass(\"re-layout\");\n                    var num_el = $(\".row\").find(\".content__list-category__element\").length;\n                    for ( var i = 0; i < num_el; i++) {\n                        $(\"#category-list\").find(\".content__list-category__element[data-order='\"+i+\"']\").appendTo(\"#category-list .row\");\n                    }\n                }\n            } else if( clientWidth >= 1401) {\n                $item.each(function() {\n                    if($(this).parent().is('.js-wrap')) {\n                        $(this).unwrap();\n                    }\n                })\n            }\n        }\n\n        adaptive();\n\n        /*\n         * Активные табы в карточке\n         * */\n\n        function openTab() {\n\n            $('.js-tabs-link a').click(function(){\n                var attr = $(this).attr('data-tab');\n\n                var link = $('.js-tabs-link li');\n                link.each(function() {\n                    $(this).removeClass('active');\n                });\n\n                $(this).parent().addClass('active');\n\n                var block =  $('.js-tabs-text').find('div[data-link]');\n                block.each(function(){\n                    if($(this).attr('data-link') == attr) {\n                        $(this).addClass('view-block');\n                    } else {\n                        $(this).removeClass('view-block');\n                    }\n                });\n            });\n        }\n\n        openTab();\n\n\n\n        /**\n         * Делаем равные отступы между блоками в каталоге\n         */\n\n        /*\n         * Устанавливаем у враппера аттрибут, с его длиной, чтобы по клику\n         * на отрытие меню блоки выстраивались ровно и не ломались\n         */\n\n        function setCatalogAttr() {\n            var $widthCatalog = $('.js-catalog-list').width(),\n                $widthCategory = $('.js-category-list').width(),\n                $elem = $('.js-element').width(),\n                $elemCategory = $('.js-element-category').width();\n\n            $('.js-catalog-list').attr('data-width', $widthCatalog);\n            $('.js-catalog-list').attr('elem-width', $elem);\n\n            $('.js-category-list').attr('data-width', $widthCategory);\n            $('.js-category-list').attr('elem-width', $elemCategory);\n\n\n        }\n\n        setCatalogAttr();\n\n        function changeMargin() {\n            var $container = $('.js-catalog-list');\n\n            if(!!$container)\n                $container = $('.js-catalog-list');\n            else\n                $container = $('.js-category-list');\n\n\n            if(!!$container) {\n                $container.toggleClass('no-resize');\n\n                if($container.hasClass('no-resize')) {\n                    var $containerWidth = $($container).attr('data-width');\n                    var $elementWidth = $($container).attr('elem-width');\n                } else {\n                    var $containerWidth = $($container).width();\n                    var $elementWidth = $('.js-element').width();\n                }\n\n            }\n\n\n            var $elementCount = Math.floor($containerWidth / $elementWidth),\n                $elementsWidth = $elementWidth * $elementCount,\n                $difference = $containerWidth - $elementsWidth,\n                $margin = $difference / ($elementCount - 1),\n                clientWidth = document.documentElement.clientWidth;\n\n            $('.js-element').each(function(index){\n                if (index > 0 && index % $elementCount != 0) {\n                    var margins = ($margin / clientWidth) * 100;\n                    $(this).css({'margin-left': margins + '%'});\n                } else\n                    $(this).css({'margin-left': '0'});\n            });\n\n            /**\n             * В разделе каталога в ряд по 3 штуки, поэтому переделал логику\n             * расстановки отступов. У квадрата обязателен класс .js-element, по его размеру\n             * будут задаваться отступы\n             */\n\n            if(clientWidth > 1194) {\n                $('.js-element-list').each(function(index){\n                    if (index > 0 && (index + 1 ) % ($elementCount - 1) != 0) {\n                        var margins = ($margin / clientWidth) * 100;\n                        $(this).css({'margin-left': margins + '%'});\n                    } else\n                        $(this).css({'margin-left': '0'});\n                });\n            }\n        }\n\n        changeMargin();\n\n\n        /**\n         * Стилизация чекбоксов и селектов\n         */\n\n        function stylerClosed() {\n            /*console.log($(this));\n             if (!$(this).hasClass('select-sort'))\n             return;\n             console.log('sort!')*/\n\n        }\n\n        var selects = document.getElementsByClassName('js-custom');\n\n        if(!!selects) {\n            $(selects).styler({\n                onSelectClosed: stylerClosed\n            });\n        }\n\n\n        /**\n         * Initialize Swiper slider\n         * */\n\n        var swiper = new Swiper('.swiper-container', {\n            nextButton: '.swiper-button-next',\n            prevButton: '.swiper-button-prev',\n            paginationClickable: true,\n            slidesPerView: 5,\n            spaceBetweenSlides: 60,\n            breakpoints: {\n                1800: {\n                    slidesPerView: 4\n                },\n                1399: {\n                    slidesPerView: 2.8\n                },\n                999: {\n                    slidesPerView: 2,\n                    spaceBetweenSlides: 16\n                },\n                767: {\n                    slidesPerView: 2\n                },\n                650: {\n                    slidesPerView: 1.5\n                },\n                510: {\n                    slidesPerView: 1.2\n                },\n                459: {\n                    slidesPerView: 1\n                },\n                360: {\n                    slidesPerView: .8\n                }\n            }\n        });\n\n        var swiperTop = new Swiper('.js-top-slider', {\n            pagination: '.swiper-pagination',\n            paginationClickable: true\n        });\n\n        var swiperCatalog = new Swiper('.js-slider-theme', {\n            pagination: '.swiper-pagination-catalog',\n            paginationClickable: true,\n            height: 400\n        });\n\n\n        /**\n         * 320-768 при клике по кнопке поиска, появляется поиск\n         * 320-768 when you click on the search button appears search\n         * */\n        searchButton.onclick = function() {\n            var clientWidth = document.documentElement.clientWidth;\n\n            this.classList.toggle('open');\n            searchInput.classList.toggle('visible-search');\n\n\n            if(this.classList.contains('open')) {\n                this.querySelector('use').setAttribute('xlink:href','#close');\n            } else {\n                this.querySelector('use').setAttribute('xlink:href','#search');\n            }\n\n            if(clientWidth >=320 && clientWidth <= 459) {\n                if(this.classList.contains('open')) {\n                    burgerOrange.classList.add('no--visible');\n                } else {\n                    burgerOrange.classList.remove('no--visible');\n                }\n            }\n        }\n\n\n        /**\n         * окрашиваем подложку при наведении на пункт меню\n         * paint the substrate when you hover over a menu item\n         **/\n\n        $('.js-left-submenu li').mouseenter(function(){\n            var $div = $(this).find('div');\n\n            $div.addClass('color--orange');\n            $(this).addClass('color--blue');\n        });\n\n        $('.js-left-submenu li').mouseleave(function(){\n            var $div = $(this).find('div');\n\n            if($(this).hasClass('active-menu')) {\n\n            } else {\n                $div.removeClass('color--orange');\n                $(this).removeClass('color--blue');\n            }\n\n        });\n\n        /*------------------------------------------------------------------------------*/\n\n        /**\n         * Получаем координату правого угла каждого элемента списка и на эту длину\n         * открываем левое меню. Правый блок подстраивается под это и получает свои размеры\n         * Get coordinate of the right corner of each list item, and on the length of the open left menu. Right block adapts it and gets its size\n         **/\n\n        function openMenu() {\n\n            var clientWidth = document.documentElement.clientWidth;\n\n            function getOffsetRect(elem) {\n                var box = elem.getBoundingClientRect();\n\n                var body = document.body;\n                var docElem = document.documentElement;\n\n                var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n                var scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\n                var clientTop = docElem.clientTop || body.clientTop || 0;\n                var clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\n                var top  = box.top +  scrollTop - clientTop;\n                var left = box.left + scrollLeft - clientLeft;\n\n                return { top: Math.round(top), left: Math.round(left) }\n            }\n\n            var arr = Array(),\n                submenu_li = document.getElementsByClassName('js-wrap-link');\n\n            for (var i = 0; i < submenu_li.length; i++) {\n                arr[i] = getOffsetRect(submenu_li[i]).left + submenu_li[i].offsetWidth;\n            }\n\n            var max = Math.max.apply(0, arr);\n\n            if(clientWidth >= 768) {\n                burger.onclick = function() {\n\n                    var footerSoc = document.getElementsByClassName('js-seti')[0];\n\n                    footerSoc.classList.toggle('open--menu');\n\n                    /**\n                     * Если после маленького экрана ресайз на большой,\n                     * чтобы меню работало правильно при открытии, выставляем своё максимальное значение\n                     * самого длинного слова\n                     */\n                    if ( Math.sign(max) == -1 ) {\n                        max = 283;\n                    }\n                    /*-------------------------------*/\n\n                    leftMenu.style.width = (max + 20) + 'px';\n\n                    leftMenu.classList.toggle('hover');\n\n                    /*\n                     * Пересчёт длины левого и правого блоков,\n                     * при открытом меню\n                     * */\n\n                    if (leftMenu.classList.contains('hover')) {\n                        rightBlock.style.width = 'calc(100% - ' + (max + 20) + 'px)';\n                        rightBlock.style.transition = '';\n                        this.classList.add('view-menu', 'open--burger');\n                        leftMenu.classList.remove('close');\n                    } else {\n                        leftMenu.style.width = '69px';\n                        rightBlock.style.width = 'calc(100% - 69px)';\n                        rightBlock.style.transition = 'width .5s ease .5s';\n                        this.classList.remove('view-menu', 'open--burger');\n                        leftMenu.classList.remove('hover');\n                        leftMenu.classList.add('close');\n                    }\n\n                    /**\n                     * на разных разрешениях добавляем снизу отступ,\n                     * чтобы наши ссылки в футере помещались\n                     * */\n                    if(clientWidth >= 1400 && clientWidth <= 1960) {\n                        var  heightLinks = footerLinks.offsetHeight;\n\n                        if(this.classList.contains('view-menu')) {\n                            footerLinks.style.height = heightLinks + 200 + 'px';\n                        } else {\n                            footerLinks.style.height = '';\n                        }\n                    } else if(clientWidth >= 1000 && clientWidth < 1400) {\n                        var  heightLinks = footerLinks.offsetHeight,\n                            div = footerLinks.querySelectorAll('div:not(.js-contacts)');\n\n                        /**\n                         * добавляем в футер высоты, чтобы блоки поместились и задаём при открытом меню\n                         * длину блоков, чтобы не расползалось\n                         */\n\n                        if(this.classList.contains('view-menu')) {\n\n                            footerLinks.style.height = heightLinks + 300 + 'px';\n\n                            for (var i = 0; i < div.length; i++) {\n                                div[i].style.width = '33%';\n                            }\n\n                        } else {\n\n                            footerLinks.style.height = '';\n\n                            for (var i = 0; i < div.length; i++) {\n                                div[i].style.width = '';\n                            }\n\n                        }\n\n                    } else if(clientWidth >= 768 && clientWidth < 1000) {\n                        var  heightLinks = footerLinks.offsetHeight,\n                            div = footerLinks.querySelectorAll('div:not(.js-contacts)');\n\n                        /**\n                         * добавляем в футер высоты, чтобы блоки поместились и задаём при открытом меню\n                         * длину блоков, чтобы не расползалось\n                         */\n\n                        if(this.classList.contains('view-menu')) {\n\n                            footerLinks.style.height = heightLinks + 500 + 'px';\n\n                            for (var i = 0; i < div.length; i++) {\n                                div[i].style.width = '50%';\n                            }\n\n                        } else {\n\n                            footerLinks.style.height = '';\n\n                            for (var i = 0; i < div.length; i++) {\n                                div[i].style.width = '';\n                            }\n\n                        }\n                    }\n\n                    changeMargin();\n                    //heightBlocks();\n                }\n            } else if(clientWidth < 767) {\n                rightBlock.style.width = '';\n                leftMenu.style.width = '';\n\n                /**\n                 * При маленьком размере экрана левое меню невидимо\n                 * и при открытии наезжает сверху\n                 */\n                burger.onclick = function() {\n                    leftMenu.classList.toggle('translate');\n                    leftSubmenu.classList.toggle('open--submenu');\n                    this.classList.toggle('open--burger');\n                }\n            }\n        }\n\n        openMenu();\n\n        /**\n         * Клик по бургеру в верхнем меню на 320-460\n         * Click on a burger in the top menu on 320-460\n         * */\n\n        burgerOrange.onclick = function() {\n            leftMenu.classList.toggle('translate');\n            burger.classList.toggle('view-menu');\n            burger.classList.toggle('open--burger');\n            burger.classList.toggle('open--translate');\n            leftSubmenu.classList.toggle('open--submenu');\n        }\n\n\n        window.onresize = function() {\n            openMenu();\n            fixedHeader();\n            setCatalogAttr();\n            changeMargin();\n            adaptive();\n            popupCenter();\n            heightBlocks();\n            mapSlider();\n\n\n\n\n            var clientWidth = document.documentElement.clientWidth;\n\n            /**\n             * очищаем классы при ресайзе, чтобы ничего не ломалось.\n             * */\n            if(clientWidth >= 767 ) {\n                burger.classList.remove('view-menu');\n                burger.classList.remove('view-menu');\n                burger.classList.remove('open--translate');\n                leftMenu.classList.remove('translate');\n                header.classList.remove('scroll--fixed');\n                header.style.width = '';\n\n                if(!!banner)\n                    banner.classList.remove('scroll--banner');\n\n                if(!isIos) {\n                    leftMenu.style.width = '';\n                    leftMenu.classList.remove('hover');\n                    burger.classList.remove('open--burger');\n                }\n            }\n        }\n\n\n\n        /**\n         * fixed у шапки при скролле выше высоты шапки и на 320-767\n         * have fixed header when scrolling up cap height and 320-767\n         * */\n\n        function fixedHeader() {\n            var scrollTop = window.pageYOffset || document.documentElement.scrollTop,\n                header = document.getElementsByTagName('header')[0],\n                headerHeight = header.offsetHeight,\n                clientWidth = document.documentElement.clientWidth;\n\n\n            if(clientWidth <=767) {\n                if (scrollTop >= headerHeight) {\n                    header.classList.add('scroll--fixed');\n\n                    if(clientWidth >=460 && clientWidth <= 767) {\n                        header.style.width = 'calc(100% - 40px)';\n                    } else if(clientWidth >=320 && clientWidth <=459) {\n                        header.style.width = 'calc(100% - 20px)';\n                    }\n\n                } else {\n                    header.classList.remove('scroll--fixed');\n                }\n            }\n\n        }\n\n        fixedHeader();\n\n        /**\n         * При прокрутке на высоту до баннера и до карты в карточке\n         * баннер/карта прокручиваются с нами и если футер в зоне видимости\n         * перкращают с нами крутиться\n         */\n\n        function scrollBanner() {\n\n            var scrollTop = window.pageYOffset || document.documentElement.scrollTop,\n                banner = document.getElementsByClassName('js-banner')[0],\n                wrapBanner = document.getElementsByClassName('js-wrap-banOrMap')[0],\n                map = document.getElementsByClassName('js-yMap')[0],\n                clientWidth = document.documentElement.clientWidth;\n\n            function getOffsetRect(elem) {\n                var box = elem.getBoundingClientRect();\n\n                var body = document.body;\n                var docElem = document.documentElement;\n\n                var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n                var scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\n                var clientTop = docElem.clientTop || body.clientTop || 0;\n                var clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\n                var top  = box.top +  scrollTop - clientTop;\n                var left = box.left + scrollLeft - clientLeft;\n\n                return { top: Math.round(top), left: Math.round(left) }\n            }\n\n            function showVisible() {\n                var footer = document.getElementsByTagName('footer')[0],\n                    content = document.getElementsByClassName('js-catalog-text')[0];\n\n                if(!!content) {\n                    /**\n                     * Для страниц с этим классом при прокрутке до этого блока - высота баннера\n                     * баннер перестаёт с нами крутиться, чтобы не наезжать на текст.\n                     */\n                    if(scrollTop >= (getOffsetRect(content).top - 400)){\n                        if(!!banner)\n                            banner.classList.remove('scroll--banner');\n\n                        /* if(!!map)\n                         map.classList.remove('scroll--map');*/\n                    }\n                }\n\n                if(!!footer) {\n                    if (scrollTop >= (getOffsetRect(footer).top - 400)) {\n                        if(!!banner)\n                            banner.classList.remove('scroll--banner');\n\n                    }\n\n                    if(scrollTop >= (getOffsetRect(footer).top - 715)) {\n                        if(!!map)\n                            map.classList.remove('scroll--map');\n                    }\n                }\n            }\n            if(!!!isIos) {\n                if(clientWidth > 768) {\n\n                    if(!!wrapBanner) {\n                        if(scrollTop >= getOffsetRect(wrapBanner).top) {\n\n                            if(!!banner) {\n\n                                var flagArticle = banner.classList.contains('js-article');\n\n                                banner.classList.add('scroll--banner');\n\n                                if(flagArticle && clientWidth < 1308)\n                                    banner.classList.remove('scroll--banner');\n\n                            }\n\n\n                            if(!!map)\n                                if(clientWidth >= 1045) {\n                                    map.classList.add('scroll--map');\n                                }\n\n\n                        } else {\n\n                            if(!!banner)\n                                banner.classList.remove('scroll--banner');\n\n                            if(!!map)\n                                map.classList.remove('scroll--map');\n                        }\n\n\n                    }\n                    showVisible();\n\n                }\n            }\n\n        }\n        scrollBanner();\n\n        $('.js-date-input').datepicker({\n            dateFormat: \"dd.mm.yy\"\n        });\n\n\n        window.onscroll = function() {\n            fixedHeader();\n            scrollBanner();\n            popupCenter();\n        }\n\n        $(\"select.select-sort\").change(function(e){\n            if (location.href.indexOf(\"?\")==-1)\n                location.href = location.href+'?sort='+$(this).val();\n            else\n            if (location.href.indexOf(\"sort\")==-1)\n                location.href = location.href+'&sort='+$(this).val();\n            else\n                location.href = location.origin + location.pathname + '?sort='+$(this).val();\n\n        });\n\n    });\n\n}());"],"file":"script.js","sourceRoot":"/source/"}